{% extends 'layout.html' %}
{% load static %}
{% block content %}
<body class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <form action="" method="post" class="d-flex flex-column align-items-center p-4 border rounded"
        style="width: 400px; min-width: 300px;">
        {% csrf_token %}
        {% for field in form %}
        <div class="mb-3 w-100">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
            <div class="invalid-feedback d-block">
                {% for error in field.errors %}
                <p>{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endfor %}
        <div class="form-check mb-3 w-100">
            <input type="checkbox" id="togglePassword" class="form-check-input">
            <label for="togglePassword" class="form-check-label">Показать пароль</label>
        </div>
        <button type="submit" class="btn btn-primary w-100">Войти</button>
    </form>
    <div class="button">
        <a href="{% url 'users:register' %}" class="form-link">Создать аккаунт</a>
    </div>
</body>

<script>
    document.getElementById('togglePassword').addEventListener('change', function () {
        let passwordFields = document.querySelectorAll('.password');
        passwordFields.forEach(field => {
            field.type = this.checked ? 'text' : 'password';
        });
    });
</script>
{% endblock %}